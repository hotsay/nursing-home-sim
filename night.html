<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìš”ì–‘ì› ì•¼ê°„ê·¼ë¬´ ìˆ˜ì§€ë¶„ì„ê¸° PRO</title>
    <style>
        :root {
            --primary: #2c3e50; --accent: #3498db; --success: #27ae60; --danger: #e74c3c; --bg: #f1f4f9;
        }
        body { font-family: 'Pretendard', sans-serif; background: var(--bg); margin: 0; padding: 20px; color: #333; }
        .container { max-width: 1400px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        
        .dashboard { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px; }
        .card { background: var(--primary); color: white; padding: 20px; border-radius: 12px; text-align: center; }
        .card h3 { margin: 0; font-size: 0.95rem; opacity: 0.8; margin-bottom: 8px; }
        .card .value { font-size: 1.8rem; font-weight: bold; color: #fff; }
        .card.result-plus { background: var(--success); }
        .card.result-minus { background: var(--danger); }

        .main-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        section { background: #fff; border: 1px solid #e0e6ed; padding: 25px; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.02); }
        h2 { font-size: 1.3rem; color: var(--primary); border-left: 5px solid var(--accent); padding-left: 12px; margin-bottom: 20px; }

        table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
        th, td { border: 1px solid #eee; padding: 12px; text-align: center; font-size: 0.95rem; }
        th { background: #f8f9fa; color: #666; font-weight: 600; }
        input { width: 90%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; text-align: right; font-weight: bold; font-size: 1rem; }
        
        .sub-total { background: #fdf6e3; font-weight: bold; }
        .info-box { background: #f1f9ff; border: 1px solid #d1e9ff; padding: 15px; border-radius: 8px; font-size: 0.9rem; line-height: 1.6; color: #2c3e50; }
        .analysis-res { font-size: 1.2rem; font-weight: bold; margin-top: 15px; text-align: center; padding: 15px; border-radius: 8px; }
        
        .highlight { color: var(--accent); font-weight: bold; }
        .text-danger { color: var(--danger); }
    </style>
</head>
<body>

<div class="container">
    <h1 style="text-align:center; color:var(--primary); margin-top:0; margin-bottom:30px;">ğŸŒ™ ì•¼ê°„ê·¼ë¬´ ë°°ì¹˜ ë° ìˆ˜ì§€ë¶„ì„ ì‹œë®¬ë ˆì´í„°</h1>

    <div class="dashboard">
        <div class="card">
            <h3>ì•¼ê°„ ê°€ì‚° ìˆ˜ì… (A)</h3>
            <div id="disp-income" class="value">0</div>
            <small>í•œë‹¬ ì´ì•¡</small>
        </div>
        <div class="card">
            <h3>ì•¼ê°„ ì¸ê±´ë¹„ ì´ê³„ (B)</h3>
            <div id="disp-labor" class="value">0</div>
            <small>ë³´í—˜/í‡´ì§ê¸ˆ í¬í•¨</small>
        </div>
        <div id="profit-card" class="card">
            <h3>ì•¼ê°„ ìš´ì˜ ìˆ˜ì§€ (A - B)</h3>
            <div id="disp-profit" class="value">0</div>
            <small>ìˆ˜ìµ/ì†ì‹¤ ë¶„ì„</small>
        </div>
        <div class="card highlight">
            <h3>ê°€ì‚° ê¸°ì¤€ì  (1ì )</h3>
            <div id="disp-base-point" class="value">0</div>
            <small>(ì›” ìˆ˜ê°€ í•©ê³„ / ì¸ì›) Ã— 0.8</small>
        </div>
    </div>

    <div class="main-grid">
        <section>
            <h2>1. ê°€ì‚° ê¸°ì¤€ì  ì‚°ì¶œ (ì¼ë°˜ì‹¤ ë“±ê¸‰ êµ¬ì„±)</h2>
            <table>
                <thead>
                    <tr><th>ë“±ê¸‰</th><th>ì¸ì›(ëª…)</th><th>ì¼ë‹¹ ìˆ˜ê°€(ì›)</th><th>ì›” ìˆ˜ì…ì•¡(30ì¼)</th></tr>
                </thead>
                <tbody>
                    <tr><td>1ë“±ê¸‰</td><td><input type="number" id="in-c1" value="5" oninput="calc()"></td><td>93,070</td><td id="res-c1">0</td></tr>
                    <tr><td>2ë“±ê¸‰</td><td><input type="number" id="in-c2" value="13" oninput="calc()"></td><td>86,340</td><td id="res-c2">0</td></tr>
                    <tr><td>3~5ë“±ê¸‰</td><td><input type="number" id="in-c3" value="34" oninput="calc()"></td><td>81,540</td><td id="res-c3">0</td></tr>
                    <tr class="sub-total">
                        <td><b>í•©ê³„</b></td>
                        <td id="total-cnt">0</td>
                        <td>-</td>
                        <td id="total-inc">0</td>
                    </tr>
                </tbody>
            </table>
            <div class="info-box">
                ê¸°ì¤€ê¸ˆì•¡ = (ì¼ë°˜ì‹¤ ì›” ì´ìˆ˜ê°€ / ì…ì†Œì ìˆ˜) Ã— 0.8<br>
                í˜„ì¬ ì‚°ì¶œëœ 1ì ë‹¹ ê¸ˆì•¡: <span id="base-point-val" class="highlight">0</span> ì›
            </div>
        </section>

        <section>
            <h2>2. ì•¼ê°„ ê·¼ë¬´ì ì‹œê°„ ë°°ì¹˜</h2>
            <p style="font-size:0.85rem; color:#666; margin-bottom:10px;">* 22ì‹œ ~ 06ì‹œ ì‚¬ì´ ì‹¤ì œ ê·¼ë¡œì‹œê°„(íœ´ê²Œ ì œì™¸)ì„ ì…ë ¥í•˜ì„¸ìš”.</p>
            <table>
                <thead>
                    <tr><th>êµ¬ë¶„</th><th>ì‹¤ê·¼ë¬´(h)</th><th>ì¸ì›(ëª…)</th><th>í•©ê³„ ì‹œê°„(ì¼)</th></tr>
                </thead>
                <tbody>
                    <tr>
                        <td><b>ì•¼ê°„ ì¸ë ¥</b></td>
                        <td><input type="number" id="work-h" value="5" oninput="calc()"></td>
                        <td><input type="number" id="staff-c" value="3" oninput="calc()"></td>
                        <td id="total-hours-day" style="font-weight:bold; color:var(--accent);">0 h</td>
                    </tr>
                </tbody>
            </table>
            <div class="info-box" style="background:#fff9db; border-color:#ffeeba;">
                <b>[ì§€ì¶œ ë¶„ì„ - ìˆœìˆ˜ ì•¼ê°„ìˆ˜ë‹¹]</b><br>
                ì¼ì¼ ì•¼ê°„ìˆ˜ë‹¹: <span id="labor-day-pure">0</span> ì›<br>
                ì›” ì•¼ê°„ìˆ˜ë‹¹: <span id="labor-month-pure">0</span> ì›
            </div>
        </section>

        <section>
            <h2>3. ì¸ê±´ë¹„ ìƒì„¸ (4ëŒ€ë³´í—˜/í‡´ì§ê¸ˆ í¬í•¨)</h2>
            <table>
                <thead>
                    <tr><th>í•­ëª©</th><th>ê¸ˆì•¡ (ì›” ê¸°ì¤€)</th></tr>
                </thead>
                <tbody>
                    <tr><td>ìˆœìˆ˜ ì•¼ê°„ìˆ˜ë‹¹ (ê¸°ë³¸)</td><td id="pure-wage">0</td></tr>
                    <tr><td>4ëŒ€ë³´í—˜ íšŒì‚¬ë¶€ë‹´ë¶„ (9%)</td><td id="ins-wage">0</td></tr>
                    <tr><td>í‡´ì§ì ë¦½ê¸ˆ (1/12)</td><td id="ret-wage">0</td></tr>
                    <tr class="sub-total">
                        <td><b>ì´ ì•¼ê°„ ì¸ê±´ë¹„ í•©ê³„</b></td>
                        <td id="total-labor-detail" class="text-danger">0</td>
                    </tr>
                </tbody>
            </table>
            <div class="info-box">
                ì•¼ê°„ìˆ˜ë‹¹ ë‹¨ê°€: 1ì‹œê°„ë‹¹ <b>5,160ì›</b> (10,320ì› Ã— 0.5)
            </div>
        </section>

        <section>
            <h2>4. ìˆ˜ì§€ ë¶„ì„ ë° íš¨ìœ¨ ì•ˆë‚´</h2>
            <table>
                <tr><th>ì¼ì¼ ì´ ì•¼ê°„ì‹œê°„</th><td id="total-hours-day-val">0 h</td></tr>
                <tr><th>ì¼ì¼ ê°€ì‚° ì¸ì • ì¸ì›</th><td id="add-staff-val">0 ëª…</td></tr>
                <tr><th>ì¼ì¼ ì ˆì‚¬(ë²„ë ¤ì§€ëŠ”) ì‹œê°„</th><td id="waste-hours" class="text-danger">0 h</td></tr>
                <tr class="sub-total">
                    <td><b>ìµœì¢… ì•¼ê°„ ê°€ì‚°ê¸ˆ (ì›”)</b></td>
                    <td id="final-income-val" class="highlight">0</td>
                </tr>
            </table>
            
            <div id="analysis-msg" class="analysis-res">
                ê³„ì‚° ì¤‘...
            </div>
        </section>
    </div>
</div>

<script>
    function calc() {
        // --- 1. ê¸°ì¤€ì  ê³„ì‚° (30ì¼ ì œì™¸í•˜ì—¬ ìˆ˜ì •) ---
        const c1 = Number(document.getElementById('in-c1').value);
        const c2 = Number(document.getElementById('in-c2').value);
        const c3 = Number(document.getElementById('in-c3').value);
        
        const r1_day = 93070;
        const r2_day = 86340;
        const r3_day = 81540;

        const totalCnt = c1 + c2 + c3;
        const totalMonthInc = (c1 * r1_day + c2 * r2_day + c3 * r3_day) * 30;
        
        // ì›” ê¸°ì¤€ì  ì‚°ì •: (ì›” ì´ìˆ˜ì… / ì¸ì›) * 0.8
        const basePoint = totalCnt > 0 ? Math.floor((totalMonthInc / totalCnt) * 0.8) : 0;

        document.getElementById('res-c1').innerText = (c1 * r1_day * 30).toLocaleString();
        document.getElementById('res-c2').innerText = (c2 * r2_day * 30).toLocaleString();
        document.getElementById('res-c3').innerText = (c3 * r3_day * 30).toLocaleString();
        document.getElementById('total-cnt').innerText = totalCnt;
        document.getElementById('total-inc').innerText = totalMonthInc.toLocaleString();
        document.getElementById('base-point-val').innerText = basePoint.toLocaleString();
        document.getElementById('disp-base-point').innerText = basePoint.toLocaleString();

        // --- 2. ì•¼ê°„ ê·¼ë¡œ ì‹œê°„ ë° ìˆœìˆ˜ ìˆ˜ë‹¹ ê³„ì‚° ---
        const workH = Number(document.getElementById('work-h').value);
        const staffC = Number(document.getElementById('staff-c').value);
        const dayHours = workH * staffC;
        const monthHours = dayHours * 30;

        document.getElementById('total-hours-day').innerText = dayHours + " h";
        document.getElementById('total-hours-day-val').innerText = dayHours + " h";

        const unitWage = 10320 * 0.5; // 5,160ì›
        const pureDayWage = Math.floor(dayHours * unitWage);
        const pureMonthWage = pureDayWage * 30;

        document.getElementById('labor-day-pure').innerText = pureDayWage.toLocaleString();
        document.getElementById('labor-month-pure').innerText = pureMonthWage.toLocaleString();

        // --- 3. ì¸ê±´ë¹„ ìƒì„¸ (ì´ ì•¼ê°„ ì¸ê±´ë¹„ í•©ê³„ë¡œ ëª…ì¹­ ìˆ˜ì •) ---
        const insWage = Math.floor(pureMonthWage * 0.09);
        const retWage = Math.floor(pureMonthWage / 12);
        const totalLabor = pureMonthWage + insWage + retWage;

        document.getElementById('pure-wage').innerText = pureMonthWage.toLocaleString();
        document.getElementById('ins-wage').innerText = insWage.toLocaleString();
        document.getElementById('ret-wage').innerText = retWage.toLocaleString();
        document.getElementById('total-labor-detail').innerText = totalLabor.toLocaleString();
        document.getElementById('disp-labor').innerText = totalLabor.toLocaleString();

        // --- 4. ê°€ì‚° ìˆ˜ì… ê³„ì‚° (ì¼ì¼ í‰ê·  ê¸°ì¤€ ì ˆì‚¬ ë¡œì§) ---
        // ê³µë‹¨ ì§€ì¹¨: ì¼ì¼ ì•¼ê°„ì‹œê°„ í•©ê³„ë¥¼ 7ë¡œ ë‚˜ëˆˆ ëª«(ì ˆì‚¬)ì´ ì¼ì¼ ê°€ì‚°ì¸ì›
        const addStaffCntDay = Math.floor(dayHours / 7); 
        const wasteHoursDay = dayHours % 7;
        
        // ìµœì¢… ì›” ê°€ì‚°ê¸ˆ = ì¼ì¼ ê°€ì‚°ì¸ì› * 0.9ì  * ê¸°ì¤€ì 
        const totalIncome = Math.floor(addStaffCntDay * 0.9 * basePoint);

        document.getElementById('add-staff-val').innerText = addStaffCntDay + " ëª…";
        document.getElementById('waste-hours').innerText = wasteHoursDay + " h";
        document.getElementById('final-income-val').innerText = totalIncome.toLocaleString();
        document.getElementById('disp-income').innerText = totalIncome.toLocaleString();

        // --- 5. ìµœì¢… ë¶„ì„ ---
        const profit = totalIncome - totalLabor;
        const dispProfit = document.getElementById('disp-profit');
        const profitCard = document.getElementById('profit-card');
        const analysisMsg = document.getElementById('analysis-msg');
        
        dispProfit.innerText = profit.toLocaleString();

        if (profit >= 0) {
            profitCard.className = "card result-plus";
            analysisMsg.style.background = "#e8f5e9";
            analysisMsg.style.color = "var(--success)";
            analysisMsg.innerHTML = `âœ… <b>ìˆ˜ì§€ ì–‘í˜¸:</b> ê°€ì‚°ê¸ˆì´ ì¸ê±´ë¹„ë³´ë‹¤ <b>${profit.toLocaleString()}ì›</b> ë” ë§ìŠµë‹ˆë‹¤.`;
        } else {
            profitCard.className = "card result-minus";
            analysisMsg.style.background = "#ffebee";
            analysisMsg.style.color = "var(--danger)";
            analysisMsg.innerHTML = `âš ï¸ <b>ì†ì‹¤ ë°œìƒ:</b> ì¸ê±´ë¹„ê°€ ê°€ì‚°ê¸ˆë³´ë‹¤ <b>${Math.abs(profit).toLocaleString()}ì›</b> ë” ë§ìŠµë‹ˆë‹¤.`;
        }

        if (wasteHoursDay > 0) {
            const gap = 7 - wasteHoursDay;
            analysisMsg.innerHTML += `<br><small style="color:#666">ğŸ’¡ ì¼ì¼ <b>${gap}ì‹œê°„</b>ë§Œ ë” í™•ë³´í•˜ë©´ ê°€ì‚° ì¸ì›ì´ 1ëª… ëŠ˜ì–´ë‚©ë‹ˆë‹¤.</small>`;
        }
    }

    window.onload = calc;
</script>

</body>
</html>